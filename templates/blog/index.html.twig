{% extends 'base.html.twig' %}

{% block title %} The Blog {% endblock %}

{% block body %}
    <div class="articles-infos">
        {% if category is defined %}
            <div>
                <span>
                    Articles de la catégorie:
                    <strong>
                        {{ category.name }}
                    </strong>
                </span>
            </div>
        {% endif %}
        <span>
            <strong>
                {{ articles | length }}
            </strong>
            articles retrouvés
        </span>
    </div>
    <div class="articles">
        {% for article in articles %}
            <a href="{{ path('app_single_article', { 'slug': article.slug }) }}" class="article-item">
                <div class="article-image">
                    <img src="{{ article.imageurl }}" alt="Image de l'article: {{ article.title }}">
                </div>
                <div class="article-details flex">
                    <div class="article-author-details">
                        <div class="article-author-picture">
                            <img src="{{ article.author.profile.picture }}" alt="image de profile de {{ article.author.name }}">
                        </div>
                        <h2 class="article-title"> {{ article.title }} </h2>
                        <div class="article-createdAt"> {{ article.fromNow }} </div>
                    </div>
                </div>
            </a>
        {% endfor %}
    </div>
{% endblock %}
